-traversy gist
Firebase Setup For House Marketplace

    Create Firebase Project
    Create "web" app within firebase to get config values"
    Install firebase in your project "npm i firebase
    Create a config file in your project
    Add authentication for email/password and Google
    Create a user from Firebase
    Enable Firestore
    Add rules for firestore
    Enable storage
    Add rules for storage
    Create 3 composite indexes for advanced querying

- the signed in users are listed in the authentication tab
- CEL (Common Expression Language)
- Firebase rules:
rules_version = '2';
service cloud.firestore {
  match /databases/{database}/documents {
    // Listings
    match /listings/{listing} {
    	allow read;
      allow create: if request.auth != null && request.resource.data.imgUrls.size() < 7;
    	allow delete: if resource.data.userRef == request.auth.uid;
      allow update: if resource.data.userRef == request.auth.uid;
    }
   
    // Users
    match /users/{user} {
    	allow read;
    	allow create;
    	allow update: if request.auth.uid == user
    }
  }
}

- Storage rules:
rules_version = '2';
service firebase.storage {
  match /b/{bucket}/o {
    match /{allPaths=**} {
      allow read;
      allow write: if
      request.auth != null &&
      request.resource.size < 2 * 1024 * 1024 && //2MB
      request.resource.contentType.matches('image/.*')
    }
  }
}

- with the noSQL database I dont have to beforehand create the relational database tables, columns and fields

- version 6.0 in react-router-dom we use 'Router' instead of 'Switch'
- also we use 'element' instead of 'component' in the routes

84
- in SignIn.jsx in setFormData() I have to use a callback (prev)=>({...prev, }) because otherwise after all typed character the state would be renewed, so to store a whole word in the state I have to ...pread the previous state

88









https://github.com/bradtraversy/house-marketplace